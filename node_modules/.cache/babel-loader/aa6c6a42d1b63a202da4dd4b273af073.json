{"remainingRequest":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/babel-loader/lib/index.js!/Users/xianglin/WebstormProjects/PhoneBot/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xianglin/WebstormProjects/PhoneBot/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xianglin/WebstormProjects/PhoneBot/src/components/BotUi.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xianglin/WebstormProjects/PhoneBot/src/components/BotUi.vue","mtime":1662200368047},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/babel.config.js","mtime":1658830931000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/cache-loader/dist/cjs.js","mtime":1658830951000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/babel-loader/lib/index.js","mtime":1658830952000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/cache-loader/dist/cjs.js","mtime":1658830951000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/vue-loader/lib/index.js","mtime":1658830954000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyplc2xpbnQgbm8tdXNlbGVzcy1lc2NhcGU6ICJvZmYiKi8KdmFyIF9pbnN0YW5jZSwKICAgIC8vIGN1cnJlbnQgdnVlIGluc3RhbmNlLgpfb3B0aW9ucyA9IHsKICBkZWJ1ZzogZmFsc2UsCiAgZm9udGF3ZXNvbWU6IHRydWUsCiAgc2VhcmNoc2VsZWN0OiB0cnVlCn0sCiAgICBfY29udGFpbmVyLAogICAgLy8gdGhlIG91dGVybW9zdCBFbGVtZW50LiBOZWVkZWQgdG8gc2Nyb2xsIHRvIGJvdHRvbSwgZm9yIG5vdy4KX2ludGVyZmFjZSA9IHt9LAogICAgLy8gbWV0aG9kcyByZXR1cm5lZCBieSBhIEJvdFVJKCkgaW5zdGFuY2UuCl9hY3Rpb25SZXNvbHZlLAogICAgX21hcmtEb3duUmVnZXggPSB7CiAgaWNvbjogLyFcKChbXlwpXSspXCkvaWdtLAogIC8vICEoaWNvbikKICBpbWFnZTogLyFcWyguKj8pXF1cKCguKj8pXCkvaWdtLAogIC8vICFbYWxldGVybmF0ZSB0ZXh0XShzcmMpCiAgbGluazogL1xbKFteXFtdKylcXVwoKFteXCldKylcKShcXj8pL2lnbSAvLyBbdGV4dF0obGluaykgXiBjYW4gYmUgYWRkZWQgYXQgZW5kIHRvIHNldCB0aGUgdGFyZ2V0IGFzICdibGFuaycKCn0sCiAgICBfZm9udEF3ZXNvbWUgPSAnaHR0cHM6Ly91c2UuZm9udGF3ZXNvbWUuY29tL2VhNzMxZGNiNmYuanMnOyAvL19lc1Byb21pc2VQb2xseWZpbGwgPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2VzNi1wcm9taXNlLzQuMS4wL2VzNi1wcm9taXNlLm1pbi5qcycsIC8vIG1vc3RseSBmb3IgSUUKLy9fc2VhcmNoc2VsZWN0ID0gICJodHRwczovL3VucGtnLmNvbS92dWUtc2VsZWN0QDIuNC4wL2Rpc3QvdnVlLXNlbGVjdC5qcyI7CgoKZnVuY3Rpb24gX2xpbmtSZXBsYWNlcihtYXRjaCwgJDEsICQyLCAkMykgewogIHZhciBfdGFyZ2V0ID0gJDMgPyAnYmxhbmsnIDogJyc7IC8vIGNoZWNrIGlmICdeJyBzaWduIGlzIHByZXNlbnQgd2l0aCBsaW5rIHN5bnRheAoKCiAgcmV0dXJuICI8YSBjbGFzcz0nYm90dWktbWVzc2FnZS1jb250ZW50LWxpbmsnIHRhcmdldD0nIiArIF90YXJnZXQgKyAiJyBocmVmPSciICsgJDIgKyAiJz4iICsgJDEgKyAiPC9hPiI7Cn0KCmZ1bmN0aW9uIF9wYXJzZU1hcmtEb3duKHRleHQpIHsKICByZXR1cm4gdGV4dC5yZXBsYWNlKF9tYXJrRG93blJlZ2V4LmltYWdlLCAiPGltZyBjbGFzcz0nYm90dWktbWVzc2FnZS1jb250ZW50LWltYWdlJyBzcmM9JyQyJyBhbHQ9JyQxJyAvPiIpLnJlcGxhY2UoX21hcmtEb3duUmVnZXguaWNvbiwgIjxpIGNsYXNzPSdib3R1aS1pY29uIGJvdHVpLW1lc3NhZ2UtY29udGVudC1pY29uIGZhIGZhLSQxJz48L2k+IikucmVwbGFjZShfbWFya0Rvd25SZWdleC5saW5rLCBfbGlua1JlcGxhY2VyKTsKfQoKZnVuY3Rpb24gbG9hZFNjcmlwdChzcmMsIGNiKSB7CiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7CiAgc2NyaXB0LnNyYyA9IHNyYzsKCiAgaWYgKGNiKSB7CiAgICBzY3JpcHQub25sb2FkID0gY2I7CiAgfQoKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7Cn0KCmZ1bmN0aW9uIF9oYW5kbGVBY3Rpb24odGV4dCkgewogIGlmIChfaW5zdGFuY2UuYWN0aW9uLmFkZE1lc3NhZ2UpIHsKICAgIF9pbnRlcmZhY2UubWVzc2FnZS5odW1hbih7CiAgICAgIGRlbGF5OiAxMDAsCiAgICAgIGNvbnRlbnQ6IHRleHQKICAgIH0pOwogIH0KCiAgX2luc3RhbmNlLmFjdGlvbi5zaG93ID0gIV9pbnN0YW5jZS5hY3Rpb24uYXV0b0hpZGU7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQm90VWknLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3Rpb246IHsKICAgICAgICB0ZXh0OiB7CiAgICAgICAgICBzaXplOiAzMCwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAnV3JpdGUgaGVyZSAuLicKICAgICAgICB9LAogICAgICAgIGJ1dHRvbjoge30sCiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgIGF1dG9IaWRlOiB0cnVlLAogICAgICAgIGFkZE1lc3NhZ2U6IHRydWUKICAgICAgfSwKICAgICAgbWVzc2FnZXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dlZF9waG9uZXM6IGZ1bmN0aW9uIHNob3dlZF9waG9uZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zaG93ZWRfcGhvbmVzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2tfZGV0YWlsOiBmdW5jdGlvbiBjbGlja19kZXRhaWwodXJsKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrZWRfdXJsJywgdXJsKTsKICAgIH0sCiAgICBjYXJkX2FkZF90b19jYXJ0OiBmdW5jdGlvbiBjYXJkX2FkZF90b19jYXJ0KGlkKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhcmRfYWRkX3RvX2NhcnQnLCBpZCk7IC8vdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRUb0NhcnQnLCBpZCk7CiAgICB9LAogICAgaGFuZGxlX2FjdGlvbl9idXR0b246IGZ1bmN0aW9uIGhhbmRsZV9hY3Rpb25fYnV0dG9uKGJ1dHRvbikgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aW9uLmJ1dHRvbi5idXR0b25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuYWN0aW9uLmJ1dHRvbi5idXR0b25zW2ldLnZhbHVlID09IGJ1dHRvbi52YWx1ZSAmJiB0eXBlb2YgdGhpcy5hY3Rpb24uYnV0dG9uLmJ1dHRvbnNbaV0uZXZlbnQgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgdGhpcy5hY3Rpb24uYnV0dG9uLmJ1dHRvbnNbaV0uZXZlbnQoYnV0dG9uKTsKICAgICAgICAgIGlmICh0aGlzLmFjdGlvbi5idXR0b24uYnV0dG9uc1tpXS5hY3Rpb25TdG9wKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIF9oYW5kbGVBY3Rpb24oYnV0dG9uLnRleHQpOwoKICAgICAgdmFyIGRlZmF1bHRBY3Rpb25PYmogPSB7CiAgICAgICAgdHlwZTogJ2J1dHRvbicsCiAgICAgICAgdGV4dDogYnV0dG9uLnRleHQsCiAgICAgICAgdmFsdWU6IGJ1dHRvbi52YWx1ZQogICAgICB9OwoKICAgICAgZm9yICh2YXIgZWFjaFByb3BlcnR5IGluIGJ1dHRvbikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYnV0dG9uLCBlYWNoUHJvcGVydHkpKSB7CiAgICAgICAgICBpZiAoZWFjaFByb3BlcnR5ICE9PSAndHlwZScgJiYgZWFjaFByb3BlcnR5ICE9PSAndGV4dCcgJiYgZWFjaFByb3BlcnR5ICE9PSAndmFsdWUnKSB7CiAgICAgICAgICAgIGRlZmF1bHRBY3Rpb25PYmpbZWFjaFByb3BlcnR5XSA9IGJ1dHRvbltlYWNoUHJvcGVydHldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgX2FjdGlvblJlc29sdmUoZGVmYXVsdEFjdGlvbk9iaik7CiAgICB9LAogICAgaGFuZGxlX2FjdGlvbl90ZXh0OiBmdW5jdGlvbiBoYW5kbGVfYWN0aW9uX3RleHQoKSB7CiAgICAgIGlmICghdGhpcy5hY3Rpb24udGV4dC52YWx1ZSkgcmV0dXJuOwoKICAgICAgX2hhbmRsZUFjdGlvbih0aGlzLmFjdGlvbi50ZXh0LnZhbHVlKTsKCiAgICAgIF9hY3Rpb25SZXNvbHZlKHsKICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgdmFsdWU6IHRoaXMuYWN0aW9uLnRleHQudmFsdWUKICAgICAgfSk7CgogICAgICB0aGlzLmFjdGlvbi50ZXh0LnZhbHVlID0gJyc7CiAgICB9LAogICAgaGFuZGxlX2FjdGlvbl9zZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZV9hY3Rpb25fc2VsZWN0KCkgewogICAgICBpZiAodGhpcy5hY3Rpb24uc2VsZWN0LnNlYXJjaHNlbGVjdCAmJiAhdGhpcy5hY3Rpb24uc2VsZWN0Lm11bHRpcGxlc2VsZWN0KSB7CiAgICAgICAgaWYgKCF0aGlzLmFjdGlvbi5zZWxlY3QudmFsdWUudmFsdWUpIHJldHVybjsKCiAgICAgICAgX2hhbmRsZUFjdGlvbih0aGlzLmFjdGlvbi5zZWxlY3QudmFsdWVbdGhpcy5hY3Rpb24uc2VsZWN0LmxhYmVsXSk7CgogICAgICAgIF9hY3Rpb25SZXNvbHZlKHsKICAgICAgICAgIHR5cGU6ICd0ZXh0JywKICAgICAgICAgIHZhbHVlOiB0aGlzLmFjdGlvbi5zZWxlY3QudmFsdWUudmFsdWUsCiAgICAgICAgICB0ZXh0OiB0aGlzLmFjdGlvbi5zZWxlY3QudmFsdWUudGV4dCwKICAgICAgICAgIG9iajogdGhpcy5hY3Rpb24uc2VsZWN0LnZhbHVlCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmFjdGlvbi5zZWxlY3Quc2VhcmNoc2VsZWN0ICYmIHRoaXMuYWN0aW9uLnNlbGVjdC5tdWx0aXBsZXNlbGVjdCkgewogICAgICAgIGlmICghdGhpcy5hY3Rpb24uc2VsZWN0LnZhbHVlKSByZXR1cm47CiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheSgpOwogICAgICAgIHZhciBsYWJlbHMgPSBuZXcgQXJyYXkoKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFjdGlvbi5zZWxlY3QudmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuYWN0aW9uLnNlbGVjdC52YWx1ZVtpXS52YWx1ZSk7CiAgICAgICAgICBsYWJlbHMucHVzaCh0aGlzLmFjdGlvbi5zZWxlY3QudmFsdWVbaV1bdGhpcy5hY3Rpb24uc2VsZWN0LmxhYmVsXSk7CiAgICAgICAgfQoKICAgICAgICBfaGFuZGxlQWN0aW9uKGxhYmVscy5qb2luKCcsICcpKTsKCiAgICAgICAgX2FjdGlvblJlc29sdmUoewogICAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgICAgdmFsdWU6IHZhbHVlcy5qb2luKCcsICcpLAogICAgICAgICAgdGV4dDogbGFiZWxzLmpvaW4oJywgJyksCiAgICAgICAgICBvYmo6IHRoaXMuYWN0aW9uLnNlbGVjdC52YWx1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5hY3Rpb24uc2VsZWN0LnZhbHVlKSByZXR1cm47CgogICAgICAgIGZvciAodmFyIGl0ID0gMDsgaXQgPCB0aGlzLmFjdGlvbi5zZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGl0KyspIHsKICAgICAgICAgIC8vIEZpbmQgc2VsZWN0IHRpdGxlCiAgICAgICAgICBpZiAodGhpcy5hY3Rpb24uc2VsZWN0Lm9wdGlvbnNbaXRdLnZhbHVlID09IHRoaXMuYWN0aW9uLnNlbGVjdC52YWx1ZSkgewogICAgICAgICAgICBfaGFuZGxlQWN0aW9uKHRoaXMuYWN0aW9uLnNlbGVjdC5vcHRpb25zW2l0XS50ZXh0KTsKCiAgICAgICAgICAgIF9hY3Rpb25SZXNvbHZlKHsKICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuYWN0aW9uLnNlbGVjdC52YWx1ZSwKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmFjdGlvbi5zZWxlY3Qub3B0aW9uc1tpdF0udGV4dAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgICdib3R1aS1tYXJrZG93bic6IGZ1bmN0aW9uIGJvdHVpTWFya2Rvd24oZWwsIGJpbmRpbmcpIHsKICAgICAgaWYgKGJpbmRpbmcudmFsdWUgPT0gJ2ZhbHNlJykgcmV0dXJuOyAvLyB2LWJvdHVpLW1hcmtkb3duPSJmYWxzZSIKCiAgICAgIGVsLmlubmVySFRNTCA9IF9wYXJzZU1hcmtEb3duKGVsLnRleHRDb250ZW50KTsKICAgIH0sCiAgICAnYm90dWktc2Nyb2xsJzogewogICAgICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwpIHsKICAgICAgICBfY29udGFpbmVyLnNjcm9sbFRvcCA9IF9jb250YWluZXIuc2Nyb2xsSGVpZ2h0OwogICAgICAgIGVsLnNjcm9sbEludG9WaWV3KHRydWUpOwogICAgICB9CiAgICB9LAogICAgJ2ZvY3VzJzogewogICAgICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwpIHsKICAgICAgICBlbC5mb2N1cygpOwogICAgICB9CiAgICB9LAogICAgJ2JvdHVpLWNvbnRhaW5lcic6IHsKICAgICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsKSB7CiAgICAgICAgX2NvbnRhaW5lciA9IGVsOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgX2luc3RhbmNlID0gdGhpczsKICB9Cn07CgpmdW5jdGlvbiBfYWRkTWVzc2FnZShfbXNnKSB7CiAgaWYgKCFfbXNnLmxvYWRpbmcgJiYgIV9tc2cuY29udGVudCkgewogICAgdGhyb3cgRXJyb3IoJ0JvdFVJOiAiY29udGVudCIgaXMgcmVxdWlyZWQgaW4gYSBub24tbG9hZGluZyBtZXNzYWdlIG9iamVjdC4nKTsKICB9CgogIF9tc2cudHlwZSA9IF9tc2cudHlwZSB8fCAndGV4dCc7CiAgX21zZy52aXNpYmxlID0gX21zZy5kZWxheSB8fCBfbXNnLmxvYWRpbmcgPyBmYWxzZSA6IHRydWU7CgogIHZhciBfaW5kZXggPSBfaW5zdGFuY2UubWVzc2FnZXMucHVzaChfbXNnKSAtIDE7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfbXNnLmRlbGF5KSB7CiAgICAgICAgX21zZy52aXNpYmxlID0gdHJ1ZTsKCiAgICAgICAgaWYgKF9tc2cubG9hZGluZykgewogICAgICAgICAgX21zZy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXNvbHZlKF9pbmRleCk7CiAgICB9LCBfbXNnLmRlbGF5IHx8IDApOwogIH0pOwp9CgpmdW5jdGlvbiBfY2hlY2tPcHRzKF9vcHRzKSB7CiAgaWYgKHR5cGVvZiBfb3B0cyA9PT0gJ3N0cmluZycpIHsKICAgIF9vcHRzID0gewogICAgICBjb250ZW50OiBfb3B0cwogICAgfTsKICB9CgogIHJldHVybiBfb3B0cyB8fCB7fTsKfQoKX2ludGVyZmFjZS5tZXNzYWdlID0gewogIGFkZDogZnVuY3Rpb24gYWRkKGFkZE9wdHMpIHsKICAgIHJldHVybiBfYWRkTWVzc2FnZShfY2hlY2tPcHRzKGFkZE9wdHMpKTsKICB9LAogIGJvdDogZnVuY3Rpb24gYm90KGFkZE9wdHMpIHsKICAgIGFkZE9wdHMgPSBfY2hlY2tPcHRzKGFkZE9wdHMpOwogICAgcmV0dXJuIF9hZGRNZXNzYWdlKGFkZE9wdHMpOwogIH0sCiAgaHVtYW46IGZ1bmN0aW9uIGh1bWFuKGFkZE9wdHMpIHsKICAgIGFkZE9wdHMgPSBfY2hlY2tPcHRzKGFkZE9wdHMpOwogICAgYWRkT3B0cy5odW1hbiA9IHRydWU7CiAgICByZXR1cm4gX2FkZE1lc3NhZ2UoYWRkT3B0cyk7CiAgfSwKICBnZXQ6IGZ1bmN0aW9uIGdldChpbmRleCkgewogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfaW5zdGFuY2UubWVzc2FnZXNbaW5kZXhdKTsKICB9LAogIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGluZGV4KSB7CiAgICBfaW5zdGFuY2UubWVzc2FnZXMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShpbmRleCwgbXNnKSB7CiAgICAvLyBvbmx5IGNvbnRlbnQgY2FuIGJlIHVwZGF0ZWQsIG5vdCB0aGUgbWVzc2FnZSB0eXBlLgogICAgdmFyIF9tc2cgPSBfaW5zdGFuY2UubWVzc2FnZXNbaW5kZXhdOwogICAgX21zZy5jb250ZW50ID0gbXNnLmNvbnRlbnQ7CiAgICBfbXNnLnZpc2libGUgPSAhbXNnLmxvYWRpbmc7CiAgICBfbXNnLmxvYWRpbmcgPSAhIW1zZy5sb2FkaW5nOwogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtc2cuY29udGVudCk7CiAgfSwKICByZW1vdmVBbGw6IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHsKICAgIF9pbnN0YW5jZS5tZXNzYWdlcy5zcGxpY2UoMCwgX2luc3RhbmNlLm1lc3NhZ2VzLmxlbmd0aCk7CgogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwogIH0KfTsKCmZ1bmN0aW9uIG1lcmdlQXRvQihvYmpBLCBvYmpCKSB7CiAgZm9yICh2YXIgcHJvcCBpbiBvYmpBKSB7CiAgICBpZiAoIW9iakIuaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBwcm9wKSkgewogICAgICBvYmpCW3Byb3BdID0gb2JqQVtwcm9wXTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIF9jaGVja0FjdGlvbihfb3B0cykgewogIGlmICghX29wdHMuYWN0aW9uICYmICFfb3B0cy5hY3Rpb25CdXR0b24gJiYgIV9vcHRzLmFjdGlvblRleHQpIHsKICAgIHRocm93IEVycm9yKCdCb3RVSTogImFjdGlvbiIgcHJvcGVydHkgaXMgcmVxdWlyZWQuJyk7CiAgfQp9CgpmdW5jdGlvbiBfc2hvd0FjdGlvbnMoX29wdHMpIHsKICBfY2hlY2tBY3Rpb24oX29wdHMpOwoKICBtZXJnZUF0b0IoewogICAgdHlwZTogJ3RleHQnLAogICAgY3NzQ2xhc3M6ICcnLAogICAgYXR0cmlidXRlczoge30sCiAgICBhdXRvSGlkZTogdHJ1ZSwKICAgIGFkZE1lc3NhZ2U6IHRydWUKICB9LCBfb3B0cyk7CiAgX2luc3RhbmNlLmFjdGlvbi50eXBlID0gX29wdHMudHlwZTsKICBfaW5zdGFuY2UuYWN0aW9uLmNzc0NsYXNzID0gX29wdHMuY3NzQ2xhc3M7CiAgX2luc3RhbmNlLmFjdGlvbi5hdHRyaWJ1dGVzID0gX29wdHMuYXR0cmlidXRlczsKICBfaW5zdGFuY2UuYWN0aW9uLmF1dG9IaWRlID0gX29wdHMuYXV0b0hpZGU7CiAgX2luc3RhbmNlLmFjdGlvbi5hZGRNZXNzYWdlID0gX29wdHMuYWRkTWVzc2FnZTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIF9hY3Rpb25SZXNvbHZlID0gcmVzb2x2ZTsgLy8gcmVzb2x2ZWQgd2hlbiBhY3Rpb24gaXMgcGVyZm9ybWVkLCBpLmU6IGJ1dHRvbiBjbGlja2VkLCB0ZXh0IHN1Ym1pdHRlZCwgZXRjLgoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfaW5zdGFuY2UuYWN0aW9uLnNob3cgPSB0cnVlOwogICAgfSwgX29wdHMuZGVsYXkgfHwgMCk7CiAgfSk7Cn0KCl9pbnRlcmZhY2UuYWN0aW9uID0gewogIHNob3c6IF9zaG93QWN0aW9ucywKICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgX2luc3RhbmNlLmFjdGlvbi5zaG93ID0gZmFsc2U7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgfSwKICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KF9vcHRzKSB7CiAgICBfY2hlY2tBY3Rpb24oX29wdHMpOwoKICAgIF9pbnN0YW5jZS5hY3Rpb24udGV4dCA9IF9vcHRzLmFjdGlvbjsKICAgIHJldHVybiBfc2hvd0FjdGlvbnMoX29wdHMpOwogIH0sCiAgYnV0dG9uOiBmdW5jdGlvbiBidXR0b24oX29wdHMpIHsKICAgIF9jaGVja0FjdGlvbihfb3B0cyk7CgogICAgX29wdHMudHlwZSA9ICdidXR0b24nOwogICAgX2luc3RhbmNlLmFjdGlvbi5idXR0b24uYnV0dG9ucyA9IF9vcHRzLmFjdGlvbjsKICAgIHJldHVybiBfc2hvd0FjdGlvbnMoX29wdHMpOwogIH0sCiAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoX29wdHMpIHsKICAgIF9jaGVja0FjdGlvbihfb3B0cyk7CgogICAgX29wdHMudHlwZSA9ICdzZWxlY3QnOwogICAgX29wdHMuYWN0aW9uLmxhYmVsID0gX29wdHMuYWN0aW9uLmxhYmVsIHx8ICd0ZXh0JzsKICAgIF9vcHRzLmFjdGlvbi52YWx1ZSA9IF9vcHRzLmFjdGlvbi52YWx1ZSB8fCAnJzsKICAgIF9vcHRzLmFjdGlvbi5zZWFyY2hzZWxlY3QgPSB0eXBlb2YgX29wdHMuYWN0aW9uLnNlYXJjaHNlbGVjdCAhPT0gJ3VuZGVmaW5lZCcgPyBfb3B0cy5hY3Rpb24uc2VhcmNoc2VsZWN0IDogX29wdGlvbnMuc2VhcmNoc2VsZWN0OwogICAgX29wdHMuYWN0aW9uLm11bHRpcGxlc2VsZWN0ID0gX29wdHMuYWN0aW9uLm11bHRpcGxlc2VsZWN0IHx8IGZhbHNlOwoKICAgIGlmIChfb3B0cy5hY3Rpb24uc2VhcmNoc2VsZWN0ICYmIHR5cGVvZiBfb3B0cy5hY3Rpb24udmFsdWUgPT0gJ3N0cmluZycpIHsKICAgICAgaWYgKCFfb3B0cy5hY3Rpb24ubXVsdGlwbGVzZWxlY3QpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9vcHRzLmFjdGlvbi5vcHRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAvLyBGaW5kIG9iamVjdAogICAgICAgICAgaWYgKF9vcHRzLmFjdGlvbi5vcHRpb25zW2ldLnZhbHVlID09IF9vcHRzLmFjdGlvbi52YWx1ZSkgewogICAgICAgICAgICBfb3B0cy5hY3Rpb24udmFsdWUgPSBfb3B0cy5hY3Rpb24ub3B0aW9uc1tpXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZhbHMgPSBfb3B0cy5hY3Rpb24udmFsdWUuc3BsaXQoJywnKTsKCiAgICAgICAgX29wdHMuYWN0aW9uLnZhbHVlID0gbmV3IEFycmF5KCk7CgogICAgICAgIGZvciAodmFyIGl0ID0gMDsgaXQgPCBfb3B0cy5hY3Rpb24ub3B0aW9ucy5sZW5ndGg7IGl0KyspIHsKICAgICAgICAgIC8vIEZpbmQgb2JqZWN0CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgLy8gU2VhcmNoIHZhbHVlcwogICAgICAgICAgICBpZiAoX29wdHMuYWN0aW9uLm9wdGlvbnNbaXRdLnZhbHVlID09IHZhbHNbal0pIHsKICAgICAgICAgICAgICBfb3B0cy5hY3Rpb24udmFsdWUucHVzaChfb3B0cy5hY3Rpb24ub3B0aW9uc1tpdF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFfb3B0cy5hY3Rpb24uc2VhcmNoc2VsZWN0KSB7CiAgICAgIF9vcHRzLmFjdGlvbi5vcHRpb25zLnVuc2hpZnQoewogICAgICAgIHZhbHVlOiAnJywKICAgICAgICB0ZXh0OiBfb3B0cy5hY3Rpb24ucGxhY2Vob2xkZXIKICAgICAgfSk7CiAgICB9CgogICAgX2luc3RhbmNlLmFjdGlvbi5idXR0b24gPSBfb3B0cy5hY3Rpb24uYnV0dG9uOwogICAgX2luc3RhbmNlLmFjdGlvbi5zZWxlY3QgPSBfb3B0cy5hY3Rpb247CiAgICByZXR1cm4gX3Nob3dBY3Rpb25zKF9vcHRzKTsKICB9LAogIGJ1dHRvbnRleHQ6IGZ1bmN0aW9uIGJ1dHRvbnRleHQoX29wdHMpIHsKICAgIF9jaGVja0FjdGlvbihfb3B0cyk7CgogICAgX29wdHMudHlwZSA9ICdidXR0b250ZXh0JzsKICAgIF9pbnN0YW5jZS5hY3Rpb24uYnV0dG9uLmJ1dHRvbnMgPSBfb3B0cy5hY3Rpb25CdXR0b247CiAgICBfaW5zdGFuY2UuYWN0aW9uLnRleHQgPSBfb3B0cy5hY3Rpb25UZXh0OwogICAgcmV0dXJuIF9zaG93QWN0aW9ucyhfb3B0cyk7CiAgfQp9OwoKaWYgKF9vcHRpb25zLmZvbnRhd2Vzb21lKSB7CiAgbG9hZFNjcmlwdChfZm9udEF3ZXNvbWUpOwp9CgpleHBvcnQgdmFyIGJvdHVpID0gX2ludGVyZmFjZTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AAAA;AACAA;EACAC,YADA;EAEAC,iBAFA;EAGAC;AAHA,CADA;AAAA,IAMAC,UANA;AAAA,IAMA;AACAC,eAPA;AAAA,IAOA;AACAC,cARA;AAAA,IASAC;EACAC,wBADA;EACA;EACAC,+BAFA;EAEA;EACAC,wCAHA,CAGA;;AAHA,CATA;AAAA,IAcAC,0DAdA,C,CAeA;AACA;;;AAGA;EACA,gCADA,CACA;;;EACA;AACA;;AAEA;EACA,YACAC,OADA,CACAL,oBADA,EACA,+DADA,EAEAK,OAFA,CAEAL,mBAFA,EAEA,gEAFA,EAGAK,OAHA,CAGAL,mBAHA,EAGAM,aAHA;AAIA;;AAEA;EACA;EACAC;EACAA;;EAEA;IACAA;EACA;;EAEAC;AACA;;AAEA;EACA;IACAV;MACAW,UADA;MAEAC;IAFA;EAIA;;EACAC;AACA;;AAEA;EACAC,aADA;EAEAC;IACA;MACAC;QACAC;UACAC,QADA;UAEAC;QAFA,CADA;QAKAC,UALA;QAMAC,WANA;QAOAC,YAPA;QAQAC,cARA;QASAC;MATA,CADA;MAYAC;IAZA;EAcA,CAjBA;EAkBAC;IACAC;MACA;IACA;EAHA,CAlBA;EAuBAC;IACAC;MACA;IACA,CAHA;IAIAC;MACA,mCADA,CAEA;IACA,CAPA;IAQAC;MACA;QACA;UACA;UACA;UACA;QACA;MACA;;MAEAC;;MAEA;QACAV,cADA;QAEAL,iBAFA;QAGAgB;MAHA;;MAMA;QACA;UACA;YACAC;UACA;QACA;MACA;;MAEAjC;IACA,CAlCA;IAmCAkC;MACA;;MACAH;;MACA/B;QACAqB,YADA;QAEAW;MAFA;;MAIA;IACA,CA3CA;IA4CAG;MACA;QACA;;QACAJ;;QACA/B;UACAqB,YADA;UAEAW,qCAFA;UAGAhB,mCAHA;UAIAoB;QAJA;MAMA;;MACA;QACA;QACA;QACA;;QACA;UACAC;UACAC;QACA;;QACAP;;QACA/B;UACAqB,YADA;UAEAW,wBAFA;UAGAhB,uBAHA;UAIAoB;QAJA;MAMA,CAfA,MAeA;QACA;;QACA;UAAA;UACA;YACAL;;YACA/B;cACAqB,YADA;cAEAW,+BAFA;cAGAhB;YAHA;UAKA;QACA;MACA;IACA;EAnFA,CAvBA;EA4GAuB;IACA;MACA,qCADA,CACA;;MACAC;IACA,CAJA;IAKA;MACAC;QACA3C;QACA0C;MACA;IAJA,CALA;IAWA;MACAC;QACAD;MACA;IAHA,CAXA;IAgBA;MACAC;QACA3C;MACA;IAHA;EAhBA,CA5GA;EAkIA4C;IACA9B;EACA;AApIA;;AAuIA;EAEA;IACA;EACA;;EAEA+B;EACAA;;EACA;;EAEA;IACAC;MACA;QACAD;;QAEA;UACAA;QACA;MACA;;MACAE;IACA,CATA,EASAF,eATA;EAUA,CAXA;AAYA;;AAEA;EACA;IACAG;MACAnC;IADA;EAGA;;EACA;AACA;;AAEAZ;EACAgD;IACA;EACA,CAHA;EAIAC;IACAC;IACA;EACA,CAPA;EAQAC;IACAD;IACAA;IACA;EACA,CAZA;EAaAE;IACA;EACA,CAfA;EAgBAC;IACAxC;;IACA;EACA,CAnBA;EAoBAyC;IAAA;IACA;IACAV;IACAA;IACAA;IACA;EACA,CA1BA;EA2BAW;IACA1C;;IACA;EACA;AA9BA;;AAiCA;EACA;IACA;MACA2C;IACA;EACA;AACA;;AAEA;EACA;IACA;EACA;AACA;;AAEA;EACAC;;EACAC;IACApC,YADA;IAEAqC,YAFA;IAGAC,cAHA;IAIArC,cAJA;IAKAC;EALA,GAMAuB,KANA;EAQAlC;EACAA;EACAA;EACAA;EACAA;EAEA;IACAZ,yBADA,CACA;;IACA4C;MACAhC;IACA,CAFA,EAEAkC,gBAFA;EAGA,CALA;AAMA;;AAEA/C;EACAqB,kBADA;EAEAwC;IACAhD;IACA;EACA,CALA;EAMAI;IACAwC;;IACA5C;IACA;EACA,CAVA;EAWAO;IACAqC;;IACAV;IACAlC;IACA;EACA,CAhBA;EAiBAiD;IACAL;;IACAV;IACAA;IACAA;IACAA;IACAA;;IACA;MACA;QACA;UAAA;UACA;YACAA;UACA;QACA;MACA,CANA,MAMA;QACA;;QACAA;;QACA;UAAA;UACA;YAAA;YACA;cACAA;YACA;UACA;QACA;MACA;IACA;;IACA;MACAA;QAAAd;QAAAhB;MAAA;IACA;;IACAJ;IACAA;IACA;EACA,CAjDA;EAkDAkD;IACAN;;IACAV;IACAlC;IACAA;IACA;EACA;AAxDA;;AA2DA;EACAmD;AACA;;AAEA","names":["_options","debug","fontawesome","searchselect","_container","_interface","_actionResolve","_markDownRegex","icon","image","link","_fontAwesome","replace","_linkReplacer","script","document","delay","content","_instance","name","data","action","text","size","placeholder","button","show","type","autoHide","addMessage","messages","computed","showed_phones","methods","click_detail","card_add_to_cart","handle_action_button","_handleAction","value","defaultActionObj","handle_action_text","handle_action_select","obj","values","labels","directives","el","inserted","created","_msg","setTimeout","resolve","_opts","add","bot","addOpts","human","get","remove","update","removeAll","objB","_checkAction","mergeAtoB","cssClass","attributes","hide","select","buttontext","loadScript"],"sourceRoot":"src/components","sources":["BotUi.vue"],"sourcesContent":["<template>\n  <div class=\"botui botui-container\" v-botui-container>\n    <div class=\"botui-messages-container\">\n      <div v-for=\"(msg,index) in messages\" :key=\"index\" class=\"botui-message\"\n           :class=\"msg.cssClass\" v-botui-scroll v-bind=\"msg.attributes\">\n        <transition name=\"slide-fade\">\n          <div v-if=\"msg.visible\">\n            <div v-if=\"msg.photo && !msg.loading\"\n                 :class=\"['profil', 'profile', {human: msg.human,'agent': !msg.human}]\">\n              <img :src=\"msg.photo\" :class=\"[{human: msg.human, 'agent':!msg.human}]\">\n            </div>\n            <div :class=\"[{human: msg.human, 'botui-message-content': true}, msg.type]\">\n              <span v-if=\"msg.type==='text'\" v-text=\"msg.content\" v-botui-markdown></span>\n              <span v-if=\"msg.type==='html'\" v-html=\"msg.content\"></span>\n              <div v-if=\"msg.type==='phone'\">\n                <div style=\"min-width: 240px;\">\n                  <div style=\"width: 100%;text-align:center;background-color: #f5f5f5\">\n                    <img style=\"max-height: 360px\" :src=\"msg.content.img\" alt=\"\"/>\n                  </div>\n                  <div style=\"margin-top: 1em; display: flex; justify-content: space-between;\">\n                    <span style=\"display:block;font-size: 20px;font-weight: bold\">{{\n                        msg.content.modelname\n                      }}</span>\n                  </div>\n                  <table style=\"margin-top: 0.5em;word-break: break-word; font-size:18px; color: #555555\">\n                    <tr>\n                      <td style=\"width: 96px\"> Storage:</td>\n                      <td>{{ msg.content.storage }}GB</td>\n                    </tr>\n                    <tr>\n                      <td>Memory:</td>\n                      <td>{{ msg.content.ram }}GB</td>\n                    </tr>\n                    <tr>\n                      <td>OS:</td>\n                      <td>{{ msg.content.os1 }}</td>\n                    </tr>\n                    <tr>\n                      <td>Weight:</td>\n                      <td>{{ msg.content.weight }} g</td>\n                    </tr>\n                    <tr>\n                      <td>Screen:</td>\n                      <td>{{ msg.content.displaysize }}inches</td>\n                    </tr>\n                    <tr>\n                      <td>Resolution:</td>\n                      <td>{{ msg.content.resolution1 }}*{{ msg.content.resolution2 }}</td>\n                    </tr>\n                    <tr>\n                      <td>Battery:</td>\n                      <td>{{ msg.content.battery }}mAh</td>\n                    </tr>\n                  </table>\n                  <span style=\"display: block; font-size: 20px;font-weight: bold;color: #B24040;align-self: center;\">${{\n                      msg.content.price\n                    }}</span><br/>\n                  <div style=\"display: flex;justify-content: end\">\n                    <a target=\"view_window\" @click=\"click_detail(msg.content.url)\"\n                       style=\"text-align:center; width:100%;display: inline-block;padding: 5px 10px;border-radius: 4px;border: 1px solid #1989fa;background-color: white;color: #1989fa\">Detail</a>\n                  </div>\n                  <div style=\"display: flex;justify-content: end;margin-top: 10px\"\n                       v-if=\"!showed_phones[msg.content.id].add_to_cart\">\n                    <a target=\"view_window\" @click=\"card_add_to_cart(msg.content.id)\"\n                       style=\"text-align:center; width:100%;display: inline-block;padding: 5px 10px;border-radius: 4px;border: 1px solid #1989fa;background-color: white;color: #1989fa\">Add\n                      to cart</a>\n                  </div>\n                </div>\n              </div>\n              <iframe v-if=\"msg.type==='embed'\" :src=\"msg.content\" frameborder=\"0\" allowfullscreen></iframe>\n            </div>\n          </div>\n        </transition>\n        <div v-if=\"msg.photo && msg.loading && !msg.human\"\n             :class=\"['profil', 'profile', {human: msg.human,'agent': !msg.human}]\">\n          <img :src=\"msg.photo\" :class=\"[{human: msg.human, 'agent':!msg.human}]\">\n        </div>\n        <div v-if=\"msg.loading\" class=\"botui-message-content loading\">\n          <i class=\"dot\"></i>\n          <i class=\"dot\"></i>\n          <i class=\"dot\"></i>\n        </div>\n      </div>\n    </div>\n    <div class=\"botui-actions-container\">\n      <transition name=\"slide-fade\">\n        <div v-if=\"action.show\" v-botui-scroll>\n          <form v-if=\"action.type==='text'\" class=\"botui-actions-text\"\n                @submit.prevent=\"handle_action_text()\" :class=\"action.cssClass\">\n            {{ action }}\n            <i v-if=\"action.text.icon\" class=\"botui-icon botui-action-text-icon fa\"\n               :class=\"'fa-' + action.text.icon\"></i>\n            <input ref=\"input\" :type=\"action.text.sub_type\"\n                   v-model=\"action.text.value\" class=\"botui-actions-text-input\"\n                   :placeholder=\"action.text.placeholder\" :size=\"action.text.size\" :value=\"action.text.value\"\n                   :class=\"action.text.cssClass\" required v-focus/>\n            <button type=\"submit\" :class=\"{'botui-actions-buttons-button':\n\t\t\t\t\t\t!!action.text.button, 'botui-actions-text-submit': !action.text.button}\">\n              <i v-if=\"action.text.button && action.text.button.icon\" class=\"botui-icon\n\t\t\t\t\t\t\tbotui-action-button-icon fa\" :class=\"'fa-' + action.text.button.icon\"></i>\n              <span>{{ (action.text.button && action.text.button.label) || 'Go' }}</span>\n            </button>\n          </form>\n          <form v-if=\"action.type==='select'\" class=\"botui-actions-select\" @submit.prevent=\"handle_action_select()\"\n                :class=\"action.cssClass\">\n            <i v-if=\"action.select.icon\"\n               class=\"botui-icon botui-action-select-icon fa\"\n               :class=\"'fa-' + action.select.icon\"></i>\n            <v-select v-if=\"action.select.searchselect && !action.select.multipleselect\"\n                      v-model=\"action.select.value\" :value=\"action.select.value\"\n                      :placeholder=\"action.select.placeholder\" class=\"botui-actions-text-searchselect\"\n                      :label=\"action.select.label\" :options=\"action.select.options\"></v-select>\n            <v-select v-else-if=\"action.select.searchselect && action.select.multipleselect\" multiple\n                      v-model=\"action.select.value\" :value=\"action.select.value\"\n                      :placeholder=\"action.select.placeholder\" class=\"botui-actions-text-searchselect\"\n                      :label=\"action.select.label\" :options=\"action.select.options\"></v-select>\n            <select v-else v-model=\"action.select.value\" class=\"botui-actions-text-select\"\n                    :placeholder=\"action.select.placeholder\" :size=\"action.select.size\"\n                    :class=\"action.select.cssClass\" required v-focus>\n              <option v-for=\"(option,index) in action.select.options\" :key=\"index\" :class=\"action.select.optionClass\"\n                      v-bind:value=\"option.value\" :disabled=\"(option.value=='')?true:false\"\n                      :selected=\"(action.select.value==option.value)?'selected':''\"> {{ option.text }}\n              </option>\n            </select>\n            <button type=\"submit\" :class=\"{'botui-actions-buttons-button':\n\t\t\t\t\t\t!!action.select.button, 'botui-actions-select-submit': !action.select.button}\">\n              <i v-if=\"action.select.button && action.select.button.icon\" class=\"botui-icon\n\t\t\t\t\t\t\tbotui-action-button-icon fa\" :class=\"'fa-' + action.select.button.icon\"></i>\n              <span>{{ (action.select.button && action.select.button.label) || 'Ok' }}</span>\n            </button>\n          </form>\n          <div v-if=\"action.type=='button'\" class=\"botui-actions-buttons\" :class=\"action.cssClass\">\n            <button type=\"button\" :class=\"button.cssClass\" class=\"botui-actions-buttons-button\"\n                    v-botui-scroll v-for=\"(button,index) in action.button.buttons\" :key=\"index\"\n                    @click=\"handle_action_button(button)\"><i v-if=\"button.icon\" class=\"botui-icon\n\t\t\t\t\t\t\tbotui-action-button-icon fa\" :class=\"'fa-' + button.icon\"></i> {{ button.text }}\n            </button>\n          </div>\n          <form v-if=\"action.type=='buttontext'\" class=\"botui-actions-text\"\n                @submit.prevent=\"handle_action_text()\" :class=\"action.cssClass\">\n            <i v-if=\"action.text.icon\" class=\"botui-icon botui-action-text-icon fa\"\n               :class=\"'fa-' + action.text.icon\"></i>\n            <input\n                type=\"text\" ref=\"input\" v-model=\"action.text.value\"\n                class=\"botui-actions-text-input\" :placeholder=\"action.text.placeholder\"\n                :size=\"action.text.size\" :class=\"action.text.cssClass\" required\n                v-focus/>\n            <button type=\"submit\" :class=\"{'botui-actions-buttons-button':\n\t\t\t\t\t\t!!action.text.button, 'botui-actions-text-submit': !action.text.button}\">\n              <i v-if=\"action.text.button && action.text.button.icon\" class=\"botui-icon\n\t\t\t\t\t\t\tbotui-action-button-icon fa\" :class=\"'fa-' + action.text.button.icon\"></i>\n              <span>{{ (action.text.button && action.text.button.label) || 'Go' }}</span>\n            </button>\n            <div class=\"botui-actions-buttons\" :class=\"action.cssClass\">\n              <button type=\"button\" :class=\"button.cssClass\"\n                      class=\"botui-actions-buttons-button\" v-for=\"(button,index) in\n\t\t\t\t\t\t\taction.button.buttons\" :key=\"index\" @click=\"handle_action_button(button)\" autofocus>\n                <i v-if=\"button.icon\" class=\"botui-icon botui-action-button-icon fa\" :class=\"'fa-' +\n\t\t\t\t\t\t\t\tbutton.icon\"></i>\n                {{ button.text }}\n              </button>\n            </div>\n          </form>\n        </div>\n      </transition>\n    </div>\n  </div>\n\n</template>\n\n<script>\n/*eslint no-useless-escape: \"off\"*/\nvar _instance, // current vue instance.\n    _options = {\n      debug: false,\n      fontawesome: true,\n      searchselect: true\n    },\n    _container, // the outermost Element. Needed to scroll to bottom, for now.\n    _interface = {}, // methods returned by a BotUI() instance.\n    _actionResolve,\n    _markDownRegex = {\n      icon: /!\\(([^\\)]+)\\)/igm, // !(icon)\n      image: /!\\[(.*?)\\]\\((.*?)\\)/igm, // ![aleternate text](src)\n      link: /\\[([^\\[]+)\\]\\(([^\\)]+)\\)(\\^?)/igm // [text](link) ^ can be added at end to set the target as 'blank'\n    },\n    _fontAwesome = 'https://use.fontawesome.com/ea731dcb6f.js';\n//_esPromisePollyfill = 'https://cdn.jsdelivr.net/es6-promise/4.1.0/es6-promise.min.js', // mostly for IE\n//_searchselect =  \"https://unpkg.com/vue-select@2.4.0/dist/vue-select.js\";\n\n\nfunction _linkReplacer(match, $1, $2, $3) {\n  var _target = $3 ? 'blank' : ''; // check if '^' sign is present with link syntax\n  return \"<a class='botui-message-content-link' target='\" + _target + \"' href='\" + $2 + \"'>\" + $1 + \"</a>\";\n}\n\nfunction _parseMarkDown(text) {\n  return text\n      .replace(_markDownRegex.image, \"<img class='botui-message-content-image' src='$2' alt='$1' />\")\n      .replace(_markDownRegex.icon, \"<i class='botui-icon botui-message-content-icon fa fa-$1'></i>\")\n      .replace(_markDownRegex.link, _linkReplacer);\n}\n\nfunction loadScript(src, cb) {\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = src;\n\n  if (cb) {\n    script.onload = cb;\n  }\n\n  document.body.appendChild(script);\n}\n\nfunction _handleAction(text) {\n  if (_instance.action.addMessage) {\n    _interface.message.human({\n      delay: 100,\n      content: text\n    });\n  }\n  _instance.action.show = !_instance.action.autoHide;\n}\n\nexport default {\n  name: 'BotUi',\n  data: function () {\n    return {\n      action: {\n        text: {\n          size: 30,\n          placeholder: 'Write here ..'\n        },\n        button: {},\n        show: false,\n        type: 'text',\n        autoHide: true,\n        addMessage: true\n      },\n      messages: [],\n    };\n  },\n  computed: {\n    showed_phones: function () {\n      return this.$store.state.showed_phones\n    }\n  },\n  methods: {\n    click_detail: function (url) {\n      this.$emit('clicked_url', url);\n    },\n    card_add_to_cart: function (id) {\n      this.$emit('card_add_to_cart', id);\n      //this.$store.commit('addToCart', id);\n    },\n    handle_action_button: function (button) {\n      for (var i = 0; i < this.action.button.buttons.length; i++) {\n        if (this.action.button.buttons[i].value == button.value && typeof (this.action.button.buttons[i].event) == 'function') {\n          this.action.button.buttons[i].event(button);\n          if (this.action.button.buttons[i].actionStop) return false;\n          break;\n        }\n      }\n\n      _handleAction(button.text);\n\n      var defaultActionObj = {\n        type: 'button',\n        text: button.text,\n        value: button.value\n      };\n\n      for (var eachProperty in button) {\n        if (Object.prototype.hasOwnProperty.call(button, eachProperty)) {\n          if (eachProperty !== 'type' && eachProperty !== 'text' && eachProperty !== 'value') {\n            defaultActionObj[eachProperty] = button[eachProperty];\n          }\n        }\n      }\n\n      _actionResolve(defaultActionObj);\n    },\n    handle_action_text: function () {\n      if (!this.action.text.value) return;\n      _handleAction(this.action.text.value);\n      _actionResolve({\n        type: 'text',\n        value: this.action.text.value\n      });\n      this.action.text.value = '';\n    },\n    handle_action_select: function () {\n      if (this.action.select.searchselect && !this.action.select.multipleselect) {\n        if (!this.action.select.value.value) return;\n        _handleAction(this.action.select.value[this.action.select.label]);\n        _actionResolve({\n          type: 'text',\n          value: this.action.select.value.value,\n          text: this.action.select.value.text,\n          obj: this.action.select.value\n        });\n      }\n      if (this.action.select.searchselect && this.action.select.multipleselect) {\n        if (!this.action.select.value) return;\n        var values = new Array();\n        var labels = new Array();\n        for (var i = 0; i < this.action.select.value.length; i++) {\n          values.push(this.action.select.value[i].value);\n          labels.push(this.action.select.value[i][this.action.select.label]);\n        }\n        _handleAction(labels.join(', '));\n        _actionResolve({\n          type: 'text',\n          value: values.join(', '),\n          text: labels.join(', '),\n          obj: this.action.select.value\n        });\n      } else {\n        if (!this.action.select.value) return;\n        for (var it = 0; it < this.action.select.options.length; it++) { // Find select title\n          if (this.action.select.options[it].value == this.action.select.value) {\n            _handleAction(this.action.select.options[it].text);\n            _actionResolve({\n              type: 'text',\n              value: this.action.select.value,\n              text: this.action.select.options[it].text\n            });\n          }\n        }\n      }\n    }\n  },\n  directives: {\n    'botui-markdown': function (el, binding) {\n      if (binding.value == 'false') return; // v-botui-markdown=\"false\"\n      el.innerHTML = _parseMarkDown(el.textContent);\n    },\n    'botui-scroll': {\n      inserted: function (el) {\n        _container.scrollTop = _container.scrollHeight;\n        el.scrollIntoView(true);\n      }\n    },\n    'focus': {\n      inserted: function (el) {\n        el.focus();\n      }\n    },\n    'botui-container': {\n      inserted: function (el) {\n        _container = el;\n      }\n    }\n  },\n  created: function () {\n    _instance = this;\n  }\n}\n\nfunction _addMessage(_msg) {\n\n  if (!_msg.loading && !_msg.content) {\n    throw Error('BotUI: \"content\" is required in a non-loading message object.');\n  }\n\n  _msg.type = _msg.type || 'text';\n  _msg.visible = (_msg.delay || _msg.loading) ? false : true;\n  var _index = _instance.messages.push(_msg) - 1;\n\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      if (_msg.delay) {\n        _msg.visible = true;\n\n        if (_msg.loading) {\n          _msg.loading = false;\n        }\n      }\n      resolve(_index);\n    }, _msg.delay || 0);\n  });\n}\n\nfunction _checkOpts(_opts) {\n  if (typeof _opts === 'string') {\n    _opts = {\n      content: _opts\n    };\n  }\n  return _opts || {};\n}\n\n_interface.message = {\n  add: function (addOpts) {\n    return _addMessage(_checkOpts(addOpts));\n  },\n  bot: function (addOpts) {\n    addOpts = _checkOpts(addOpts);\n    return _addMessage(addOpts);\n  },\n  human: function (addOpts) {\n    addOpts = _checkOpts(addOpts);\n    addOpts.human = true;\n    return _addMessage(addOpts);\n  },\n  get: function (index) {\n    return Promise.resolve(_instance.messages[index]);\n  },\n  remove: function (index) {\n    _instance.messages.splice(index, 1);\n    return Promise.resolve();\n  },\n  update: function (index, msg) { // only content can be updated, not the message type.\n    var _msg = _instance.messages[index];\n    _msg.content = msg.content;\n    _msg.visible = !msg.loading;\n    _msg.loading = !!msg.loading;\n    return Promise.resolve(msg.content);\n  },\n  removeAll: function () {\n    _instance.messages.splice(0, _instance.messages.length);\n    return Promise.resolve();\n  }\n};\n\nfunction mergeAtoB(objA, objB) {\n  for (var prop in objA) {\n    if (!objB.hasOwnProperty.call(objB, prop)) {\n      objB[prop] = objA[prop];\n    }\n  }\n}\n\nfunction _checkAction(_opts) {\n  if (!_opts.action && !_opts.actionButton && !_opts.actionText) {\n    throw Error('BotUI: \"action\" property is required.');\n  }\n}\n\nfunction _showActions(_opts) {\n  _checkAction(_opts);\n  mergeAtoB({\n    type: 'text',\n    cssClass: '',\n    attributes: {},\n    autoHide: true,\n    addMessage: true\n  }, _opts);\n\n  _instance.action.type = _opts.type;\n  _instance.action.cssClass = _opts.cssClass;\n  _instance.action.attributes = _opts.attributes;\n  _instance.action.autoHide = _opts.autoHide;\n  _instance.action.addMessage = _opts.addMessage;\n\n  return new Promise(function (resolve) {\n    _actionResolve = resolve; // resolved when action is performed, i.e: button clicked, text submitted, etc.\n    setTimeout(function () {\n      _instance.action.show = true;\n    }, _opts.delay || 0);\n  });\n}\n\n_interface.action = {\n  show: _showActions,\n  hide: function () {\n    _instance.action.show = false;\n    return Promise.resolve();\n  },\n  text: function (_opts) {\n    _checkAction(_opts);\n    _instance.action.text = _opts.action;\n    return _showActions(_opts);\n  },\n  button: function (_opts) {\n    _checkAction(_opts);\n    _opts.type = 'button';\n    _instance.action.button.buttons = _opts.action;\n    return _showActions(_opts);\n  },\n  select: function (_opts) {\n    _checkAction(_opts);\n    _opts.type = 'select';\n    _opts.action.label = _opts.action.label || 'text';\n    _opts.action.value = _opts.action.value || '';\n    _opts.action.searchselect = typeof _opts.action.searchselect !== 'undefined' ? _opts.action.searchselect : _options.searchselect;\n    _opts.action.multipleselect = _opts.action.multipleselect || false;\n    if (_opts.action.searchselect && typeof (_opts.action.value) == 'string') {\n      if (!_opts.action.multipleselect) {\n        for (var i = 0; i < _opts.action.options.length; i++) { // Find object\n          if (_opts.action.options[i].value == _opts.action.value) {\n            _opts.action.value = _opts.action.options[i]\n          }\n        }\n      } else {\n        var vals = _opts.action.value.split(',');\n        _opts.action.value = new Array();\n        for (var it = 0; it < _opts.action.options.length; it++) { // Find object\n          for (var j = 0; j < vals.length; j++) { // Search values\n            if (_opts.action.options[it].value == vals[j]) {\n              _opts.action.value.push(_opts.action.options[it]);\n            }\n          }\n        }\n      }\n    }\n    if (!_opts.action.searchselect) {\n      _opts.action.options.unshift({value: '', text: _opts.action.placeholder});\n    }\n    _instance.action.button = _opts.action.button;\n    _instance.action.select = _opts.action;\n    return _showActions(_opts);\n  },\n  buttontext: function (_opts) {\n    _checkAction(_opts);\n    _opts.type = 'buttontext';\n    _instance.action.button.buttons = _opts.actionButton;\n    _instance.action.text = _opts.actionText;\n    return _showActions(_opts);\n  }\n};\n\nif (_options.fontawesome) {\n  loadScript(_fontAwesome);\n}\n\nexport var botui = _interface;\n\n</script>\n\n<style lang=\"scss\">\na.botui-message-content-link:focus {\n  outline: thin dotted;\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n}\n\nform.botui-actions-text {\n  margin: 0;\n}\n\nbutton.botui-actions-buttons-button,\ninput.botui-actions-text-input {\n  margin: 0;\n  font-size: 100%;\n  line-height: normal;\n  *vertical-align: middle;\n  vertical-align: baseline;\n\n  &::-moz-focus-inner {\n    border: 0;\n    padding: 0;\n  }\n}\n\nbutton.botui-actions-buttons-button {\n  cursor: pointer;\n  *overflow: visible;\n  -webkit-appearance: button;\n}\n\n.botui-app-container {\n  width: 100%; // mobile-first\n  height: 100%;\n  line-height: 1;\n\n  @media (min-width: 400px) {\n    width: 400px;\n    height: 500px;\n    margin: 0 auto;\n  }\n}\n\n.botui-container {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.botui-message {\n  margin: 10px 0;\n  min-height: 20px;\n\n  &:after {\n    display: block;\n    content: \"\";\n    clear: both;\n  }\n}\n\n.human .botui-message-content {\n  float: right;\n}\n\n.botui-message-content {\n  width: auto;\n  max-width: 85%;\n  display: inline-block;\n\n  &.human {\n    float: right;\n  }\n\n  iframe {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.botui-message-content-image {\n  margin: 5px 0;\n  display: block;\n  max-width: 200px;\n  max-height: 200px;\n}\n\n.botui-message-content-link {\n  text-decoration: underline;\n}\n\nbutton.botui-actions-buttons-button {\n  margin-top: 10px;\n  margin-bottom: 10px;\n\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n}\n\n.botui-actions-text-submit {\n  @media (min-width: 400px) {\n    display: none;\n  }\n}\n\n.botui-action-button-icon.fa {\n  background-size: contain;\n  display: block;\n}\n\n.botui-actions-buttons-button-icon {\n  background: none;\n  box-shadow: none;\n}\n</style>\n"]}]}
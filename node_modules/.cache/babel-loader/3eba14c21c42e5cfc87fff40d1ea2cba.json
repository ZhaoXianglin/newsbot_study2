{"remainingRequest":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/babel-loader/lib/index.js!/Users/xianglin/WebstormProjects/PhoneBot/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xianglin/WebstormProjects/PhoneBot/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xianglin/WebstormProjects/PhoneBot/src/views/Que3.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xianglin/WebstormProjects/PhoneBot/src/views/Que3.vue","mtime":1661134069659},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/babel.config.js","mtime":1658830931000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/cache-loader/dist/cjs.js","mtime":1658830951000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/babel-loader/lib/index.js","mtime":1658830952000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/cache-loader/dist/cjs.js","mtime":1658830951000},{"path":"/Users/xianglin/WebstormProjects/PhoneBot/node_modules/vue-loader/lib/index.js","mtime":1658830954000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaW5zdGFuY2UgfSBmcm9tICJAL3JlcXVlc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlF1ZTMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc3Q6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdCcpLAogICAgICBhdXRoOiB0cnVlLAogICAgICBvcGVuZW5kZWQxOiAnJywKICAgICAgb3BlbmVuZGVkMjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkZhaWxlZDogZnVuY3Rpb24gb25GYWlsZWQoKSB7CiAgICAgIHRoaXMuJHRvYXN0KCJZb3UgbWF5IGhhdmUgbWlzc2VkIHNvbWUgaXRlbXMsIHBsZWFzZSBmaWxsIGluLiIpOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHZhbHVlc1sndXVpZCddID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3V1aWQnKTsKICAgICAgdmFsdWVzWydxdWUzVCddID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIGluc3RhbmNlLnBvc3QoJy9xdWUvcXVlMycsIHZhbHVlcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpCiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gMSkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0ZXAnLCAnNScpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NvZGUnLCByZXMuZGF0YS5tc2cpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImFjdGl2ZSIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCkpOwogICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLiRkaWFsb2cuY29uZmlybSh7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBjb250aW51ZSIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJObyIsCiAgICAgICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBTdXJ2ZXknLAogICAgICAgICAgICBtZXNzYWdlOiAnV2Ugc3RpbGwgaGF2ZSAzMiBib251cyBxdWVzdGlvbiBpdGVtcyAodGFrZSBhYm91dCAzLTQgbWludXRlcykuIFlvdSB3aWxsIGdldCBhIGJvbnVzIG9mIDAuNSBVUyBkb2xsYXJzIGZvciBhbnN3ZXJpbmcgdGhlc2UgZXh0cmEgcXVlc3Rpb25zICA6KScKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBvbiBjb25maXJtCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3F1ZTQnKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb2RlJywgIiIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKCcvc3VjY2VzcycpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpcy4kdG9hc3QoIlBsZWFzZSByZWFkIGFuZCBhY2NlcHQgdGhlIGluZm9ybWVkIGNvbnNlbnQgZmlyc3QuIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTsKCiAgICAgICAgX3RoaXMuJHRvYXN0KCJOZXR3b3JrIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluLiIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AAEA;EACAA,YADA;EAEAC;IACA;MACAC,cADA;MAEAC,8BAFA;MAGAC,UAHA;MAIAC,cAJA;MAKAC;IALA;EAOA,CAVA;EAYAC;IACAC,QADA,sBACA;MACA;IACA,CAHA;IAIAC;MAAA;;MACA;MACAC;MACAA;MACAC;QACA;QACA;UACAC;UACAA;UACAA;UACA;;UACA;YACAC,kCADA;YAEAC,sBAFA;YAGAC,0BAHA;YAIAC;UAJA,GAMAC,IANA,CAMA;YACA;YACA;cACAC;cACAN;YACA,CAHA;UAIA,CAZA,EAaAO,KAbA,CAaA;YACA;cACAD;YACA,CAFA;UAGA,CAjBA;QAmBA,CAxBA,MAwBA;UACA;;UACA;QACA;MACA,CA9BA,EA8BAC,KA9BA,CA8BA;QACA;QACAD;;QACA;MACA,CAlCA;IAmCA;EA3CA;AAZA","names":["name","data","loading","st","auth","openended1","openended2","methods","onFailed","onSubmit","values","instance","localStorage","confirmButtonText","cancelButtonText","title","message","then","console","catch"],"sourceRoot":"src/views","sources":["Que3.vue"],"sourcesContent":["<template>\n  <div class=\"posttest\">\n    <van-nav-bar title=\"Post-Study Survey(part3)\"/>\n    <van-steps :active=\"2\">\n      <van-step>Step1</van-step>\n      <van-step>Step2</van-step>\n      <van-step>Step3</van-step>\n      <van-step>Step4</van-step>\n    </van-steps>\n    <van-form @submit=\"onSubmit\" scroll-to-error @failed=\"onFailed\" validate-trigger=\"onSubmit\">\n      <p style=\"padding:0 10px;font-weight:bold;text-align: left\">1. What else do you want to comment on the\n        recommendations provided by the chatbot?\n      </p>\n      <van-field\n          v-model=\"openended1\"\n          name=\"openended1\"\n          rows=\"3\"\n          autosize\n          type=\"textarea\"\n          placeholder=\"please enter\"\n          :rules=\"[{ required: auth, message: 'required' }]\"\n      />\n      <p style=\"padding:0 10px;font-weight:bold;text-align: left\">2. What else do you want to comment on the interaction\n        with the chatbot?</p>\n      <van-field\n          name=\"openended2\"\n          v-model=\"openended2\"\n          rows=\"4\"\n          autosize\n          type=\"textarea\"\n          placeholder=\"please enter\"\n          :rules=\"[{ required: auth, message: 'required' }]\"\n      />\n      <div style=\"margin: 36px;\">\n        <van-button round block type=\"info\" native-type=\"submit\" :loading=\"loading\">Submit</van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n<script>\nimport {instance} from \"@/request\";\n\nexport default {\n  name: \"Que3\",\n  data: function () {\n    return {\n      loading: false,\n      st: localStorage.getItem('st'),\n      auth: true,\n      openended1: '',\n      openended2: '',\n    }\n  },\n\n  methods: {\n    onFailed() {\n      this.$toast(\"You may have missed some items, please fill in.\");\n    },\n    onSubmit: function (values) {\n      this.loading = true;\n      values['uuid'] = localStorage.getItem('uuid');\n      values['que3T'] = new Date().getTime();\n      instance.post('/que/que3', values).then((res) => {\n        //console.log(res)\n        if (res.data.status === 1) {\n          localStorage.setItem('step', '5');\n          localStorage.setItem('code', res.data.msg);\n          localStorage.setItem(\"active\", new Date().getTime().toString());\n          this.loading = false;\n          this.$dialog.confirm({\n            confirmButtonText: \"Yes, continue\",\n            cancelButtonText: \"No\",\n            title: 'Additional Survey',\n            message: 'We still have 32 bonus question items (take about 3-4 minutes). You will get a bonus of 0.5 US dollars for answering these extra questions  :)',\n          })\n              .then(() => {\n                // on confirm\n                this.$router.replace('/que4').catch((err) => {\n                  console.log(err.message)\n                  localStorage.setItem('code', \"\");\n                });\n              })\n              .catch(() => {\n                this.$router.replace('/success').catch((err) => {\n                  console.log(err.message)\n                });\n              });\n\n        } else {\n          this.loading = false;\n          this.$toast(\"Please read and accept the informed consent first.\")\n        }\n      }).catch((err) => {\n        this.loading = false;\n        console.log(err.message);\n        this.$toast(\"Network error, please try again.\");\n      })\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}